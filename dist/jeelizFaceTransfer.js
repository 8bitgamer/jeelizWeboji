 /**
 * Jeeliz Weboji - https://github.com/jeeliz/jeelizWeboji
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

window['JEEFACETRANSFERAPI']=(function(){"use strict";function ha(a){var b=new XMLHttpRequest;b.open("GET",c.Qa+c.save,!0);b.withCredentials=!1;b.onreadystatechange=function(){4===b.readyState&&200===b.status&&a(b.responseText)};b.send()}function ia(){var a=c.rb,b=Array(a),d;for(d=0;d<a;++d)b[d]=0;return b}function la(a,b,d){a=Math.min(Math.max((d-a)/(b-a),0),1);return a*a*(3-2*a)}function ma(a,b,d,f){return Math.pow(Math.min(Math.max((f-a)/(b-a),0),1),d)}function pa(a,b){var d=b%8;return a[(b-d)/8]>>7-d&1}
function qa(a){var b=JSON.parse(a);a=b.ne;var d=b.nf,f=b.n,g="undefined"===typeof btoa?Buffer.from(b.data,"base64").toString("latin1"):atob(b.data),e=g.length,q;b=new Uint8Array(e);for(q=0;q<e;++q)b[q]=g.charCodeAt(q);g=new Float32Array(f);e=new Float32Array(d);q=a+d+1;var h,n;for(h=0;h<f;++h){var k=q*h;var w=0===pa(b,k)?1:-1;var u=k+1;var p=1,y=0;for(n=u+a-1;n>=u;--n)y+=p*pa(b,n),p*=2;n=y;u=b;p=k+1+a;y=e;var C=0,B=y.length;for(k=p;k<p+B;++k)y[C]=pa(u,k),++C;for(k=u=0;k<d;++k)u+=e[k]*Math.pow(2,-k-
1);w=0===u&&0===n?0:w*(1+u)*Math.pow(2,1+n-Math.pow(2,a-1));g[h]=w}return g}
var m=function(){function a(a,b){a=l.createShader(a);l.shaderSource(a,b);l.compileShader(a);return l.getShaderParameter(a,l.COMPILE_STATUS)?a:!1}function b(b,d,e){b=a(l.VERTEX_SHADER,b,e+" VERTEX");d=a(l.FRAGMENT_SHADER,d,e+" FRAGMENT");e=l.createProgram();l.attachShader(e,b);l.attachShader(e,d);l.linkProgram(e);return e}function d(a){void 0===a.ca&&(a.ca="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===a.fa&&(a.fa=
["a0"]);void 0===a.Y&&(a.Y=[2]);void 0===a.precision&&(l.getShaderPrecisionFormat&&10<=l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.MEDIUM_FLOAT).precision?a.precision="mediump":a.precision="highp");void 0===a.v&&(a.v=[]);a.id=q++;void 0!==a.Uc&&a.Uc.forEach(function(b,d){a.c=a.c.replace(b,a.wb[d])});a.Pa=0;a.Y.forEach(function(b){a.Pa+=4*b});a.sa=b(a.ca,"precision "+a.precision+" float;\n"+a.c,a.name);a.m={};a.g.forEach(function(b){a.m[b]=l.getUniformLocation(a.sa,b)});a.attributes={};a.Z=[];a.fa.forEach(function(b){var d=
l.getAttribLocation(a.sa,b);a.attributes[b]=d;a.Z.push(d)});if(a.h){l.useProgram(a.sa);e=a;g=a.id;for(var d in a.h)l.uniform1i(a.m[d],a.h[d])}a.Qd=!0}function f(a){ra.Zc(D);g!==a.id&&(D.O(),g=a.id,e=a,l.useProgram(a.sa),a.Z.forEach(function(a){0!==a&&l.enableVertexAttribArray(a)}))}var g=-1,e=!1,q=0,h=!1,n=["u0"],k=["u1"],w={u0:0},u={u1:0},p={u0:0,u2:1},y={u3:0},C={u4:0,u5:1},B={s0:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:n,h:w},s1:{name:"_",
c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:n,h:w,precision:"lowp"},s2:{name:"_",c:"uniform sampler2D u0,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u0,vv0);gl_FragColor=a*b;}",g:["u0","u2"],h:p},s3:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a.r*f;}",g:n,h:w},s4:{name:"_",c:"uniform sampler2D u0,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u0,vv0);gl_FragColor=a.a*b.r*f;}",
g:["u0","mask"],h:p},s5:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vec2(1.-vv0.x,vv0.y));}",g:n,h:w},s6:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vec2(vv0.x,1.-vv0.y));}",g:n,h:w},s7:{name:"_",c:"uniform sampler2D u1;uniform float u6;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*u6;}",g:["u1","u6"],h:u},s8:{name:"_",c:"uniform sampler2D u1;uniform float u6;varying vec2 vv0;const vec4 g=vec4(.25,.25,.25,.25),e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=dot(a*u6,g);gl_FragColor=b*e;}",
g:["u1","u6"],h:u},s9:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u0,vv0));gl_FragColor=a*e;}",g:n,h:w},s10:{name:"_",c:"uniform sampler2D u0,u7;uniform float u8;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),b=texture2D(u7,vv0);gl_FragColor=mix(b,a,u8*f);}",g:["u0","u7","u8"],h:{u0:0,u7:1}},s11:{name:"_",c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u0,vv0+u9)+texture2D(u0,vv0+u9*vec2(1.,-1.))+texture2D(u0,vv0+u9*vec2(-1.,-1.))+texture2D(u0,vv0+u9*vec2(-1.,1.)));}",
g:["u0","u9"],h:w},s12:{name:"_",c:"uniform sampler2D u0;uniform vec4 u10;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 k(float a){if(a==0.)return vec4(0.,0.,0.,0.);float l=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),m=c+127.,b=(a/exp2(c)-1.)*8388608.,d=m/2.,n=fract(d)*2.,o=floor(d),p=e(b,0.,8.),q=e(b,8.,16.),r=n*128.+e(b,16.,23.),j=l+o;return vec4(p,q,r,j)/255.;}void main(){float a=dot(texture2D(u0,vv0),u10);gl_FragColor=k(a);}",
g:["u0","u10"],h:w},s13:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",g:k,h:u,v:k,A:!0},s14:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=max(e,a);}",g:k,h:u,v:k,A:!0},s15:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=mix(exp(-abs(a))-e,a,step(0.,a));}",
g:k,h:u,v:k,A:!0},s16:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=exp(-abs(a))-e;gl_FragColor=mix(.1*b,a,step(0.,a));}",g:k,h:u,v:k,A:!0},s17:{name:"_",c:"uniform sampler2D u1,u8,u11;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),c=texture2D(u8,vv0),d=texture2D(u11,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",g:["u1","u8","u11"],h:{u1:0,u8:1,u11:2},v:k,A:!0},s18:{name:"_",
c:"uniform sampler2D u1;const float e=3.141593;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=atan(e*a)/e;gl_FragColor=b;}",g:k,h:u,v:k,A:!0},s19:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(.5,.5,.5,.5);void main(){vec4 a=texture2D(u1,vv0),b=log(e+a);gl_FragColor=b;}",g:k,h:u,v:k,A:!0},s20:{name:"_",c:"uniform sampler2D u1;uniform float gain;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=exp(a);}",g:["u1","u12"],h:u,v:k,A:!0},
s21:{name:"_",c:"uniform sampler2D u1,u13;uniform float u14;const vec2 f=vec2(.5,.5);const float g=1e-5;const vec4 h=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u13,f);float b=u14*u14;vec4 c=max(b*a,g*h);gl_FragColor=texture2D(u1,vv0)/c;}",g:["u1","u15","u14"],h:{u1:0,u15:1}},s22:{name:"_",c:"uniform sampler2D u0;uniform vec2 u16;varying vec2 vv0;void main(){float a=u16.x*u16.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u16.y),g=floor(u16.x*fract(b*u16.y)),f=(g*u16.y+d)/a;gl_FragColor=texture2D(u0,f+c/a);}",
g:["u0","u16"],h:w},s23:{name:"_",c:"uniform sampler2D u17,u5,u18;varying vec2 vv0;void main(){vec4 a=texture2D(u18,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u17,b),e=texture2D(u5,c);gl_FragColor=d*e;}",g:["u17","u5","u18"],v:["u17","u5","u18"],h:{u5:0,u17:1,u18:2},A:!0},s24:{name:"_",c:"uniform float u19;uniform sampler2D u17,u5;varying vec2 vv0;void main(){vec2 a=fract(vv0*u19);vec4 b=texture2D(u17,vv0),c=texture2D(u5,a);gl_FragColor=b*c;}",g:["u5","u17","u19"],v:["u5","u17"],h:{u5:0,u17:1},A:!0},
s25:{name:"_",c:"uniform float u19;uniform sampler2D u17,u5,u20,u21,u22,u23;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u19,m=floor(i),c=i-m;vec4 n=texture2D(u17,vv0),d=texture2D(u5,c),a=texture2D(u23,vv0);a=a*255.;vec4 o=texture2D(u20,c),p=texture2D(u21,c),q=texture2D(u22,c),j=step(-g,-a),b=e-j,k=b*step(-e-g,-a);b*=e-k;vec4 h=b*step(-2.*e-g,-a);b*=e-h;vec4 l=b;d=j*d+k*o+h*p+l*q,gl_FragColor=n*d;}",g:"u17 u5 u19 u23 u20 u21 u22".split(" "),h:{u5:0,
u17:1,u23:3,u20:4,u21:5,u22:6},A:!0},s26:{name:"_",c:"uniform sampler2D u17,u5,u24;uniform float u19,u25,u26,u27;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u25*vv0),g=u25*vv0-a;float b=u19/u25;vec2 c=floor(g*b),d=g*b-c,h=(a+d)/u25;float l=u25*u27/u19;vec2 m=l*c,i=(m+d*u26)/u27,e=step(i,j);vec4 n=texture2D(u17,h),o=texture2D(u5,i),p=n*o*e.x*e.y,k=texture2D(u24,h);gl_FragColor=p*u26*u26+k;}",g:"u17 u5 u19 u25 u26 u27 u24".split(" "),v:["u17","u5","u24"],h:{u5:0,u17:1,u24:2},
A:!0},s27:{name:"_",c:"uniform sampler2D u17,u5;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0),b=texture2D(u5,vv0);gl_FragColor=a*b;}",g:["u17","u5"],v:["u17","u5"],h:{u5:0,u17:1},A:!0},s28:{name:"_",c:"uniform sampler2D u0,u24;uniform float u28;varying vec2 vv0;void main(){gl_FragColor=texture2D(u24,vv0)+u28*texture2D(u0,vv0);}",g:["u0","u24","u28"],v:["u0","u24"],A:!0,h:{u0:0,u24:1}},s29:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0;const vec4 g=vec4(1.,1.,1.,1.),e=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=dot(a,e)*g;}",
g:n,h:w,precision:"lowp"},s30:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0,u2;uniform float u29;const vec4 g=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u0,vec2(vv0.x-u29,vv0.y-u29))*1.,a-=texture2D(u0,vec2(vv0.x-u29,vv0.y))*2.,a-=texture2D(u0,vec2(vv0.x-u29,vv0.y+u29))*1.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y-u29))*1.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y))*2.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y+u29))*1.;vec4 b=vec4(0.);b-=texture2D(u0,vec2(vv0.x-u29,vv0.y-u29))*1.,b-=texture2D(u0,vec2(vv0.x,vv0.y-u29))*2.,b-=texture2D(u0,vec2(vv0.x+u29,vv0.y-u29))*1.,b+=texture2D(u0,vec2(vv0.x-u29,vv0.y+u29))*1.,b+=texture2D(u0,vec2(vv0.x,vv0.y+u29))*2.,b+=texture2D(u0,vec2(vv0.x+u29,vv0.y+u29))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u0,vv0).a),f=texture2D(u2,vv0);gl_FragColor=f.a*e.r*g;}",
g:["u0","u2","u29"],h:p},s31:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0,u2;uniform float u29;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float i=0.;vec2 l=k*u29,b,c;float d,a,g=0.;for(float f=-4.;f<=4.;f+=1.)for(float e=-4.;e<=4.;e+=1.)b=vec2(f,e),d=length(b)/2.,a=exp(-d*d),c=vv0+l*b,a=1.,i+=a*texture2D(u0,c).r,g+=a;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u0,c).r-i/g)*j;}",g:["u0","u2","u29"],h:p},s32:{name:"_",c:"uniform sampler2D u3;uniform vec2 u9;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 h=vec2(.5,.5),i=vec2(1.,0.),j=vec2(0.,1.);void main(){vec2 a=vv0-u9*h;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u9*i),d=texture2D(u3,a+u9*j),k=texture2D(u3,a+u9),l=e(b,c),g=e(d,k);gl_FragColor=e(l,g);}",
g:["u3","u9"],h:y},s33:{name:"_",c:"uniform sampler2D u3;uniform vec2 u9;varying vec2 vv0;const vec2 j=vec2(1.,0.),k=vec2(0.,1.),l=vec2(2.,0.),m=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u9*j),d=texture2D(u3,a+u9*k),g=texture2D(u3,a+u9),i=e(b,c),h=e(d,g);return e(i,h);}void main(){vec2 a=vv0+u9*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u9*l),d=f(a+u9*2.),g=f(a+u9*m),i=e(b,c),h=e(d,g);gl_FragColor=e(i,h);}",g:["u3","u9"],h:y},
s34:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*a;}",g:["u0"],h:w,precision:"lowp"},s35:{name:"_",c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float d=15444.;void main(){vec4 a=1001./d*texture2D(u0,vv0-3.*u9)+2002./d*texture2D(u0,vv0-2.*u9)+3003./d*texture2D(u0,vv0-u9)+3432./d*texture2D(u0,vv0)+3003./d*texture2D(u0,vv0+u9)+2002./d*texture2D(u0,vv0+2.*u9)+1001./d*texture2D(u0,vv0+3.*u9);gl_FragColor=a;}",
g:["u9","u0"],h:w,precision:"lowp"},s36:{name:"_",c:"uniform sampler2D u0,u30,u31;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float h=.1;void main(){vec4 a=texture2D(u30,vv0),b=texture2D(u31,vv0),c=texture2D(u0,vv0),d=max(g*h,b-a*a),f=sqrt(d);gl_FragColor=(c-a)/f;}",g:["u0","u30","u31"],h:{u0:0,u30:1,u31:2},A:!0},s37:{name:"_",c:"uniform sampler2D u17,u32,u33;varying vec2 vv0;void main(){vec4 a=texture2D(u33,vv0);vec2 b=a.rg;vec4 c=texture2D(u17,b);vec2 d=a.ba;vec4 e=texture2D(u32,d);gl_FragColor=c*e;}",
g:["u17","u32","u33"],h:{u32:0,u33:1,u17:2}},s38:{name:"_",c:"uniform sampler2D u17,u32;uniform float u19,u27;varying vec2 vv0;void main(){float d=u19*u27;vec2 b=vv0*u27,c=floor(b),a=b-c;a.y=1.-a.y;vec2 g=floor(a*u19),h=(g*u27+c)/d;vec4 i=texture2D(u17,h),e=texture2D(u32,a);gl_FragColor=i*e;}",g:["u17","u32","u19","u27"],h:{u32:0,u17:1}},s39:{name:"_",c:"uniform sampler2D u17,u32;uniform float u19,u27,u26,u25;varying vec2 vv0;const vec2 e=vec2(1.,1.);void main(){float k=u19*u26/u27,d=u25*u27/u19,l=k/u25,m=u19/u25,n=k/u25;vec2 g=e-vv0,c=floor(u27*g),h=u27*g-c,i=floor(u25*h),j=u25*h-i,q=j*l,r=floor(c/d),s=c-r*d,t=floor(c/d),u=t+n*j,a=(u+i*m)/u19;a=mod(a,e),a=e-a;vec2 v=s-d*q,b=mod(v/u26,e);b=e-b,b+=vec2(1./u19,1./u19),b=mod(b,e);vec2 w=floor(a*u25),f=(w+b)/u25;f=mod(f,e);vec4 x=texture2D(u17,f),o=texture2D(u32,a);gl_FragColor=x*o;}",
g:"u17 u32 u19 u27 u26 u25".split(" "),h:{u32:0,u17:1}},s40:{name:"_",c:"uniform sampler2D u1,u34,u35;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u34,vv0),c=texture2D(u35,vv0);gl_FragColor=a-b;}",g:["u1","u34","u35"],h:{u1:0,u34:1,u35:2}},s41:{name:"_",c:"uniform sampler2D u1,u34,u35;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u34,vv0),c=texture2D(u35,vv0);gl_FragColor=c*(a-b);}",g:["u1","u34","u35"],h:{u1:0,u34:1,u35:2}},
s42:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a;}",g:["u4","u5","u28"],h:C},s43:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);vec4 g(vec4 b){vec4 a=exp(-b);return a/((f+a)*(f+a));}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*g(b);}",g:["u4","u5","u28"],h:C},s44:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.),i=vec4(1.,1.,1.,1.);const float h=1e-4;vec4 f(vec4 a){return h+step(g,a);}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*f(b);}",
g:["u4","u5","u28"],h:C},s45:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);vec4 f(vec4 a){vec4 b=exp(-abs(a));return mix(b,g,step(0.,a));}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*f(b);}",g:["u4","u5","u28"],h:C},s46:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);const float h=3.141593;vec4 g(vec4 b){vec4 a=b*h;return e/(e+a*a);}void main(){vec2 a=vv0;vec4 b=u28*texture2D(u4,a),c=texture2D(u5,a);gl_FragColor=b*g(c);}",
g:["u4","u5","u28"],h:C}},F={},D={Ia:function(){return h},i:function(){if(!h){for(var a in B)d(B[a],a);m.set("s0");l.enableVertexAttribArray(0);a=sa.i();h=!0;return a}},Kb:function(a){a.forEach(function(a){D.Jb(a)})},Jb:function(a){B[a.id]=a;d(a,a.id)},tc:function(a,b,e){b||(b=a);B[b]=Object.create(F[a]);F[a].wb&&F[a].wb.forEach(function(a,d){B[b].c=B[b].c.replace(new RegExp(a,"g"),e[d])});d(B[b],b)},set:function(a){f(B[a])},Cd:function(){return e.zd},O:function(){-1!==g&&(g=-1,e.Z.forEach(function(a){0!==
a&&l.disableVertexAttribArray(a)}))},Ma:function(){var a=0;e.Z.forEach(function(b,d){d=e.Y[d];l.vertexAttribPointer(b,d,l.FLOAT,!1,e.Pa,a);a+=4*d})},yd:function(){l.enableVertexAttribArray(0)},Na:function(){l.vertexAttribPointer(e.Z[0],2,l.FLOAT,!1,8,0)},ge:function(a,b){l.uniform1i(e.m[a],b)},s:function(a,b){l.uniform1f(e.m[a],b)},F:function(a,b,d){l.uniform2f(e.m[a],b,d)},he:function(a,b){l.uniform2fv(e.m[a],b)},ie:function(a,b){l.uniform3fv(e.m[a],b)},zb:function(a,b,d,n){l.uniform3f(e.m[a],b,
d,n)},Ab:function(a,b){l.uniform4fv(e.m[a],b)},je:function(a,b){l.uniformMatrix2fv(e.m[a],!1,b)},ke:function(a,b){l.uniformMatrix3fv(e.m[a],!1,b)},le:function(a,b){l.uniformMatrix4fv(e.m[a],!1,b)},N:function(a,b){D.set(a);b.forEach(function(a){switch(a.type){case "4f":l.uniform4fv(e.m[a.name],a.value);break;case "3f":l.uniform3fv(e.m[a.name],a.value);break;case "2f":l.uniform2fv(e.m[a.name],a.value);break;case "1f":l.uniform1f(e.m[a.name],a.value);break;case "1i":l.uniform1i(e.m[a.name],a.value);
break;case "mat2":l.uniformMatrix2fv(e.m[a.name],!1,a.value);break;case "mat3":l.uniformMatrix3fv(e.m[a.name],!1,a.value);break;case "mat4":l.uniformMatrix4fv(e.m[a.name],!1,a.value)}})}};return D}(),l,ta=function(){function a(a){console.log("ERROR in ContextFeedForward : ",a);return!1}var b=!1,d=!1,f=!1,g=!1,e=!0,q=!1,h={w:function(){return b.width},H:function(){return b.height},ka:function(){return b},Bd:function(){return l},o:function(){return e},flush:function(){l.flush()},hc:function(){q||(q=
new Uint8Array(b.width*b.height*4));l.readPixels(0,0,b.width,b.height,l.RGBA,l.UNSIGNED_BYTE,q);return q},Ed:function(){return b.toDataURL("image/jpeg")},Fd:function(){t.G();d||(d=document.createElement("canvas"),f=d.getContext("2d"));d.width=b.width;d.height=b.height;var a=h.hc(),e=f.createImageData(d.width,d.height),g,q,p=d.width,y=d.height,C=e.data;for(q=0;q<y;++q){var B=y-q-1;for(g=0;g<p;++g){var F=4*(q*p+g);var D=4*(B*p+g);C[F]=a[D];C[F+1]=a[D+1];C[F+2]=a[D+2];C[F+3]=a[D+3]}}f.putImageData(e,
0,0);return d.toDataURL("image/png")},Dd:function(a){!d&&a&&(d=document.createElement("canvas"),f=d.getContext("2d"));var e=a?d:document.createElement("canvas");e.width=b.width;e.height=b.height;(a?f:e.getContext("2d")).drawImage(b,0,0);return e},i:function(d){d.$a&&!d.ia?b=document.getElementById(d.$a):d.ia&&(b=d.ia);b||(b=document.createElement("canvas"));b.width=d&&void 0!==d.width?d.width:512;b.height=d&&void 0!==d.height?d.height:512;"undefined"===typeof d&&(d={});void 0===d.premultipliedAlpha&&
(d.premultipliedAlpha=!1);void 0===d.Ha&&(d.Ha=!0);void 0===d.antialias&&(d.antialias=!1);var f={antialias:d.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:d.premultipliedAlpha,stencil:!1,depth:d.Ha};(l=b.getContext("webgl2",f))?e=!0:((l=b.getContext("webgl",f))||(l=b.getContext("experimental-webgl",f)),e=!1);if(!l)return a("WebGL is not enabled");(g=l.getExtension("WEBGL_lose_context"))&&b.addEventListener("webglcontextlost",d.Hc,!1);if(!v.i())return a("not enough capabilities");
if(!v.Ub()&&e)return a("Your configuration cannot process color buffer float");l.clearColor(0,0,0,0);l.disable(l.DEPTH_TEST);l.disable(l.BLEND);l.disable(l.DITHER);l.disable(l.STENCIL_TEST);l.GENERATE_MIPMAP_HINT&&l.hint(l.GENERATE_MIPMAP_HINT,l.FASTEST);l.disable(l.SAMPLE_ALPHA_TO_COVERAGE);l.disable(l.SAMPLE_COVERAGE);return!0},Pd:function(){if(!m.i())return!1;l.depthFunc(l.LEQUAL);l.clearDepth(1);return!0}};return h}(),ra=function(){var a="undefined"===typeof m?JEShaders:m;return{Zc:function(b){a!==
b&&(a.O(),a=b)},Ia:function(){return a.Ia()},Na:function(){a.Na()},Ma:function(){a.Ma()},O:function(){a.O()},set:function(b){a.set(b)}}}(),z=function(){var a,b,d=0,f=-2,g=-2,e=!1,q={reset:function(){g=f=-2},i:function(){e||(a=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,a),l.bufferData(l.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),l.STATIC_DRAW),b=l.createBuffer(),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,b),l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),l.STATIC_DRAW),q.za(),e=!0)},
a:function(a){var b=d++,e=a.V.length,h=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,h);l.bufferData(l.ARRAY_BUFFER,a.Db instanceof Float32Array?a.Db:new Float32Array(a.Db),l.STATIC_DRAW);f=b;if(a.V){var q=l.createBuffer();l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,q);if(65536>a.V.length){var p=Uint16Array;var y=l.UNSIGNED_SHORT;var C=2}else p=Uint32Array,y=l.UNSIGNED_INT,C=4;l.bufferData(l.ELEMENT_ARRAY_BUFFER,a.V instanceof p?a.V:new p(a.V),l.STATIC_DRAW);g=b}var B={Tb:function(a){f!==b&&(l.bindBuffer(l.ARRAY_BUFFER,
h),f=b);a&&ra.Ma()},Rb:function(){g!==b&&(l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,q),g=b)},bind:function(a){B.Tb(a);B.Rb()},vd:function(){l.drawElements(l.TRIANGLES,e,y,0)},wd:function(a,b){l.drawElements(l.TRIANGLES,a,y,b*C)},remove:function(){l.deleteBuffer(h);a.V&&l.deleteBuffer(q);B=null}};return B},za:function(){-1!==f&&(l.bindBuffer(l.ARRAY_BUFFER,a),f=-1);-1!==g&&(l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,b),g=-1)},f:function(a,b){a&&z.za();b&&ra.Na();l.drawElements(l.TRIANGLES,3,l.UNSIGNED_SHORT,0)},
gc:function(){l.deleteBuffer(a);l.deleteBuffer(b)}};return q}(),t=function(){var a,b,d,f=!1,g={u:-2,ec:1};return{i:function(){if(!f){a=l.createFramebuffer();var e=v.o();b=e&&l.DRAW_FRAMEBUFFER?l.DRAW_FRAMEBUFFER:l.FRAMEBUFFER;d=e&&l.READ_FRAMEBUFFER?l.READ_FRAMEBUFFER:l.FRAMEBUFFER;f=!0}},Id:function(){return b},Ea:function(){return d},T:function(){return l.FRAMEBUFFER},Kd:function(){return g},Ad:function(){return a},a:function(d){void 0===d.ib&&(d.ib=!1);var e=d.dd?d.dd:!1,f=d.width,n=void 0!==d.height?
d.height:d.width,k=a,w=!1,u=!1,p=0;e&&(f=f?f:e.w(),n=n?n:e.H());var y={xb:function(){u||(k=l.createFramebuffer(),u=!0,p=g.ec++)},Ib:function(){y.xb();y.l();w=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,w);l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_COMPONENT16,f,n);l.framebufferRenderbuffer(b,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,w);l.clearDepth(1)},bind:function(a,d){p!==g.u&&(l.bindFramebuffer(b,k),g.u=p);e&&e.l();d&&l.viewport(0,0,f,n);a&&l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)},
od:function(){p!==g.u&&(l.bindFramebuffer(b,k),g.u=p)},clear:function(){l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)},rd:function(){l.clear(l.COLOR_BUFFER_BIT)},sd:function(){l.clear(l.DEPTH_BUFFER_BIT)},$c:function(){l.viewport(0,0,f,n)},l:function(){p!==g.u&&(l.bindFramebuffer(b,k),g.u=p)},rtt:function(a){e=a;g.u!==p&&(l.bindFramebuffer(l.FRAMEBUFFER,k),g.u=p);a.l()},G:function(){l.bindFramebuffer(b,null);g.u=-1},resize:function(a,b){f=a;n=b;w&&(l.bindRenderbuffer(l.RENDERBUFFER,w),l.renderbufferStorage(l.RENDERBUFFER,
l.DEPTH_COMPONENT16,f,n))},remove:function(){l.bindFramebuffer(b,k);l.framebufferTexture2D(b,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0);w&&l.framebufferRenderbuffer(b,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,null);l.bindFramebuffer(b,null);l.deleteFramebuffer(k);w&&l.deleteRenderbuffer(w);y=null}};d.ib&&y.Ib();return y},G:function(){l.bindFramebuffer(b,null);g.u=-1},jd:function(){l.bindFramebuffer(b,null);l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT);l.viewport(0,0,v.w(),v.H());g.u=-1},reset:function(){g.u=
-2},I:function(){0!==g.u&&(l.bindFramebuffer(b,a),g.u=0)},clear:function(){l.viewport(0,0,v.w(),v.H());l.clear(l.COLOR_BUFFER_BIT)}}}(),J=function(){function a(a){l.bindTexture(l.TEXTURE_2D,a)}function b(a){W[0]=a;a=ba[0];var b=a>>16&32768,d=a>>12&2047,G=a>>23&255;return 103>G?b:142<G?b|31744|((255==G?0:1)&&a&8388607):113>G?(d|=2048,b|(d>>114-G)+(d>>113-G&1)):b=(b|G-112<<10|d>>1)+(d&1)}function d(a){var d=new Uint16Array(a.length);a.forEach(function(a,G){d[G]=b(a)});return d}function f(){if(void 0!==
T)return T;if(!ra.Ia()||!p)return!0;var a=P.a({isFloat:!1,C:!0,array:d([1,1,1,1]),width:1});t.G();l.viewport(0,0,1,1);l.clearColor(0,0,0,0);l.clear(l.COLOR_BUFFER_BIT);ra.set("s0");a.Wa(0);z.f(!1,!0);var b=new Uint8Array(4);l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,b);T=.9<b[0];a.remove();t.I();return T}var g=0,e,q=0,h,n=!1,k,w,u,p=!1,y=!1,C,B,F,D=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],Z=!1,S=!1,W=new Float32Array(1),ba=new Int32Array(W.buffer),T=void 0,P={i:function(){if(!p){w=[l.RGB,!1,l.RGB,
l.RGBA];u=[l.RGB,!1,l.RGB,l.RGBA];e=[l.TEXTURE0,l.TEXTURE1,l.TEXTURE2,l.TEXTURE3,l.TEXTURE4,l.TEXTURE5,l.TEXTURE6,l.TEXTURE7];Z="undefined"!==typeof JEContext;S="undefined"!==typeof v;Z&&JEContext.Xd()&&e.push(l.TEXTURE8,l.TEXTURE9);h=[-1,-1,-1,-1,-1,-1,-1,-1];k=[l.UNSIGNED_BYTE,l.FLOAT,l.FLOAT];if(!n){for(var a=new Float32Array(16384),b=0;16384>b;++b)a[b]=2*Math.random()-1;n={random:P.a({isFloat:!0,isPot:!0,array:a,width:64}),Cb:P.a({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}p=
!0}},sc:function(){P.kd()},Nd:function(){return n.Cb},kd:function(){k[1]=v.la()},Wc:function(){u=w=[l.RGBA,l.RGBA,l.RGBA,l.RGBA]},Pc:function(a,b){m.set("s1");t.G();var d=a.w(),G=a.H();l.viewport(0,0,d,G);a.b(0);z.f(!1,!1);l.readPixels(0,0,d,G,l.RGBA,l.UNSIGNED_BYTE,b)},fc:function(b,d,e){l.activeTexture(l.TEXTURE0);g=0;var G=l.createTexture();a(G);var f=v.o()&&l.RGBA32F?l.RGBA32F:l.FLOAT;d=d instanceof Float32Array?d:new Float32Array(d);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST);l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,e);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,b.w(),b.H(),0,l.RGBA,f,d);a(null);l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1);t.I();m.set("s0");b.j();l.clearColor(0,0,0,0);l.clear(l.COLOR_BUFFER_BIT);a(G);z.f(!0,!1);l.deleteTexture(G)},a:function(b){function n(){a(A);da&&l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,da);b.isPot?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,b.kb?l.MIRRORED_REPEAT:l.REPEAT),l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_WRAP_T,b.L?l.MIRRORED_REPEAT:l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));b.oa&&"undefined"!==typeof JESETTINGS&&l.texParameterf(l.TEXTURE_2D,JEContext.Gd().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.md);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,b.isLinear?l.LINEAR:l.NEAREST);b.isLinear?l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,b.isMipmap&&!ea?l.NEAREST_MIPMAP_LINEAR:l.LINEAR):l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_MIN_FILTER,b.isMipmap&&!ea?l.NEAREST_MIPMAP_NEAREST:l.NEAREST);R=w[b.ba-1];V=u[b.ba-1];L=k[G];if(v.o()){var d=l.RGBA32F;R===l.RGBA&&L===l.FLOAT&&d&&(V=d);R===l.RGB&&L===l.FLOAT&&d&&(V=d,R=l.RGBA)}if(b.C&&!b.isFloat||b.isFloat&&b.isMipmap&&sa.wc())(d=l.RGBA16F)&&(V=d),L=v.la();b.mb&&"undefined"!==typeof l.texStorage2D&&(na=b.mb);b.lb&&4===b.ba&&(R=JEContext.Ld());if(b.B)l.texImage2D(l.TEXTURE_2D,0,V,R,L,b.B);else if(b.url)l.texImage2D(l.TEXTURE_2D,0,V,R,L,N);else if(K){try{var e=l.getError();
e!==l.NO_ERROR&&console.log("GLERR in SharedTexture :",e);l.texImage2D(l.TEXTURE_2D,0,V,r,x,0,R,L,K);l.getError()!==l.NO_ERROR&&(l.texImage2D(l.TEXTURE_2D,0,V,r,x,0,R,L,null),l.getError()!==l.NO_ERROR&&l.texImage2D(l.TEXTURE_2D,0,l.RGBA,r,x,0,l.RGBA,l.UNSIGNED_BYTE,null))}catch(Ua){l.texImage2D(l.TEXTURE_2D,0,V,r,x,0,R,L,null)}b.isKeepArray||(K=null)}else l.texImage2D(l.TEXTURE_2D,0,V,r,x,0,R,L,null);if(b.isMipmap)if(!ea&&M)M.R(),oa=!0;else if(ea){e=Math.log(Math.min(r,x))/Math.log(2);fa=Array(1+
e);fa[0]=A;for(d=1;d<=e;++d){var f=Math.pow(2,d);var n=r/f;f=x/f;var q=l.createTexture();a(q);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);l.texImage2D(l.TEXTURE_2D,0,V,n,f,0,R,L,null);a(null);fa[d]=q}oa=!0}a(null);h[g]=-1;da&&l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1);X=!0;H&&M&&(H(M),H=!1)}"undefined"===typeof b.isFloat&&(b.isFloat=!1);"undefined"===typeof b.C&&(b.C=!1);"undefined"===typeof b.isPot&&(b.isPot=!0);"undefined"===
typeof b.isLinear&&(b.isLinear=!1);"undefined"===typeof b.isMipmap&&(b.isMipmap=!1);"undefined"===typeof b.Aa&&(b.Aa=!1);void 0===b.oa&&(b.oa=!1);void 0===b.L&&(b.L=!1);void 0===b.kb&&(b.kb=!1);void 0===b.lb&&(b.lb=!1);void 0===b.ba&&(b.ba=4);void 0===b.jb&&(b.jb=!1);"undefined"===typeof b.isFlipY&&(b.isFlipY=b.url||b.array?!0:!1);"undefined"===typeof b.isKeepArray&&(b.isKeepArray=!1);b.data&&(b.array="string"===typeof b.data?qa(b.data):b.isFloat?new Float32Array(b.data):new Uint8Array(b.data),b.isFlipY=
!1);var G=0,p=b.B?!0:!1;b.isFloat&&(b.C=!0);b.C&&(G=1);b.jb||v.o()||!b.isFloat||!S||v.Ya()||(b.isFloat=!1);b.isFloat&&(G=2);b.oa&&Z&&!JEContext.Sd()&&(b.oa=!1);var A=l.createTexture(),H=b.Aa,N=null,K=!1,r=0,x=0,X=!1,W=q++,Y=!1,O,I,E,T,V,R,L,da=b.isFlipY,ea=b.C&&b.isMipmap&&sa&&!sa.Wb(),fa,na=-1,oa=!1;"undefined"!==typeof b.width&&b.width&&(r=b.width,x="undefined"!==typeof b.height&&b.height?b.height:r);var M={get:function(){return A},w:function(){return r},H:function(){return x},Od:function(){return b.url},
Td:function(){return b.isFloat},Vd:function(){return b.C},Wd:function(){return b.isLinear},R:function(){l.generateMipmap(l.TEXTURE_2D)},Xa:function(b,d){ea?(b||(b=M.eb()),M.ya(d),a(fa[b]),h[d]=-1):M.b(d)},eb:function(){-1===na&&(na=Math.log(r)/Math.log(2));return na},cb:function(b){if(ea){b||(b=M.eb());m.set("s11");M.ya(0);var d,e=r,f=x;for(d=1;d<=b;++d)e/=2,f/=2,m.F("u9",.25/e,.25/f),l.viewport(0,0,e,f),a(fa[d-1]),l.framebufferTexture2D(t.T(),l.COLOR_ATTACHMENT0,l.TEXTURE_2D,fa[d],0),z.f(!1,1===
d);h[0]=-1}else M.R()},ya:function(a){a!==g&&(l.activeTexture(e[a]),g=a)},b:function(b){if(!X)return!1;M.ya(b);if(h[b]===W)return!1;a(A);h[b]=W;return!0},Wa:function(b){l.activeTexture(e[b]);g=b;a(A);h[b]=W},l:function(){l.framebufferTexture2D(t.T(),l.COLOR_ATTACHMENT0,l.TEXTURE_2D,A,0)},j:function(){l.viewport(0,0,r,x);l.framebufferTexture2D(t.T(),l.COLOR_ATTACHMENT0,l.TEXTURE_2D,A,0)},qe:function(){l.framebufferTexture2D(t.T(),l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0)},resize:function(a,b){r=a;x=
b;n()},clone:function(a){a=P.a({width:r,height:x,C:b.C,isFloat:b.isFloat,isLinear:b.isLinear,L:b.L,isFlipY:a?!da:da,isPot:b.isPot});ra.set("s0");t.I();a.l();l.viewport(0,0,r,x);M.b(0);z.f(!0,!0);return a},$c:function(){l.viewport(0,0,r,x)},remove:function(){l.deleteTexture(A);M=null},refresh:function(){M.Wa(0);da&&l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!0);p?l.texImage2D(l.TEXTURE_2D,0,V,R,l.UNSIGNED_BYTE,b.B):l.texImage2D(l.TEXTURE_2D,0,V,r,x,0,R,L,K);da&&l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1)},Za:function(){var a=
r*x*4;I=[new Uint8Array(a),new Uint8Array(a),new Uint8Array(a),new Uint8Array(a)];O=[new Float32Array(I[0].buffer),new Float32Array(I[1].buffer),new Float32Array(I[2].buffer),new Float32Array(I[3].buffer)];E=new Uint8Array(4*a);T=new Float32Array(E.buffer);Y=!0},vb:function(){Y||M.Za();l.readPixels(0,0,r,4*x,l.RGBA,l.UNSIGNED_BYTE,E);var a,b=r*x,d=2*b,e=3*b;for(a=0;a<b;++a)O[0][a]=T[a],O[1][a]=T[a+b],O[2][a]=T[a+d],O[3][a]=T[a+e];return O},ab:function(){t.G();m.set("s12");M.b(0);l.viewport(0,0,r,
4*x);for(var a=0;4>a;++a)l.viewport(0,x*a,r,x),m.Ab("u10",D[a]),z.f(!1,0===a)},re:function(b){a(A);da&&l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,da);l.texImage2D(l.TEXTURE_2D,0,V,r,x,0,R,L,b);h[g]=W;da&&l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1)},se:function(b,d){a(A);l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,d);l.texImage2D(l.TEXTURE_2D,0,V,R,L,b);h[g]=W;d&&l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,!1)},be:function(a,d){var e=r*x,f=4*e;a=b.C?a?"RGBE":"JSON":"RGBA";d&&(a=d);d=v.o()&&!1;switch(a){case "RGBE":var g="s47";
break;case "JSON":g=d?"s0":"s12";break;case "RGBA":case "RGBAARRAY":g="s6"}Y||("RGBA"===a||"RGBE"===a||"RGBAARRAY"===a?(I=new Uint8Array(f),Y=!0):"JSON"!==a||d||M.Za());t.G();m.set(g);M.b(0);if("RGBA"===a||"RGBE"===a||"RGBAARRAY"===a){l.viewport(0,0,r,x);z.f(!0,!0);l.readPixels(0,0,r,x,l.RGBA,l.UNSIGNED_BYTE,I);if("RGBAARRAY"===a)return{data:I};y||(C=document.createElement("canvas"),B=C.getContext("2d"),y=!0);C.width=r;C.height=x;F=B.createImageData(r,x);F.data.set(I);B.putImageData(F,0,0);var h=
C.toDataURL("image/png")}else if("JSON"===a)if(d)h=new Float32Array(e),l.viewport(0,0,r,x),z.f(!0,!0),l.readPixels(0,0,r,x,l.RGBA,l.FLOAT,h);else{for(h=0;4>h;++h)l.viewport(0,x*h,r,x),m.Ab("u10",D[h]),z.f(!h,!h);M.vb();h=Array(e);for(g=0;g<e;++g)h[4*g]=O[0][g],h[4*g+1]=O[1][g],h[4*g+2]=O[2][g],h[4*g+3]=O[3][g]}return{format:a,data:h,width:r,height:x,isMirrorY:b.L,isFlipY:"RGBA"===a?b.isFlipY:!b.isFlipY}}};b.isMipmap&&!ea&&X&&!oa&&(M.R(),oa=!0);if(b.url)a(A),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,1,1,
0,l.RGBA,l.UNSIGNED_BYTE,null),N=new Image,N.ud="Anonymous",N.crossOrigin="Anonymous",N.src=b.url,N.onload=function(){r=N.width;x=N.height;n()};else if(b.B){var ba=function(){r=void 0!==b.B.videoWidth?b.B.videoWidth:b.B.width;x=void 0!==b.B.videoHeight?b.B.videoHeight:b.B.height;r?n():setTimeout(ba,1)};ba()}else b.array?(b.C&&!b.isFloat?b.array instanceof Uint16Array?(K=b.array,n()):f()?(K=d(b.array),n()):(n(),P.fc(M,b.array,da)):(K=b.isFloat?b.array instanceof Float32Array?b.array:new Float32Array(b.array):
b.array instanceof Uint8Array?b.array:new Uint8Array(b.array),n()),b.isKeepArray||(K&&K!==b.array&&(K=null),delete b.array)):n();M.mc=M.w;H&&X&&(H(M),H=!1);return M},G:function(b){b!==g&&(l.activeTexture(e[b]),g=b);h[b]=-1;a(null)},pd:function(a){n.random.b(a)},reset:function(){for(var a=0;a<e.length;++a)h[a]=-1;g=-1},ae:function(){g=-1},oe:function(){for(var a=0;a<e.length;++a)P.G(a)},gc:function(){n&&(n.random.remove(),n.Cb.remove())},pe:function(a,b){if("RGBA"===a.format||"RGBE"===a.format){var d=
new Image;d.src=a.data;d.onload=function(){P.a({L:a.isMirrorY,isFlipY:a.isFlipY,isFloat:!1,B:d,Aa:function(d){if("RGBA"===a.format)b(d);else{var e=a.width,f=a.height,g=P.a({L:a.isMirrorY,isFloat:!0,width:e,height:f,isFlipY:a.isFlipY});t.I();l.viewport(0,0,e,f);m.set("s48");g.l();d.b(0);z.f(!0,!0);P.G(0);b(g);l.flush();setTimeout(d.remove,50)}}})}}else"JSON"===a.format?b(P.a({isFloat:!0,isFlipY:a.isFlipY,width:a.width,height:a.height,array:new Float32Array(a.data)})):b(!1)}};return P}(),va={a:function(a){var b=
[J.a(a),J.a(a)],d=[b[1],b[0]],f=d,g={yb:function(a){f[1].l();f[0].b(a);g.Bb()},fe:function(a){f[1].j();f[0].b(a);g.Bb()},Bb:function(){f=f===b?d:b},refresh:function(){f[0].refresh();f[1].refresh()},b:function(a){f[0].b(a)}};return g}},v=function(){function a(){b="undefined"===typeof ta?JEContext:ta;d=!0}var b,d=!1,f=!1,g=!1,e=!1,q=!1,h=!1,n=!1,k=!1,w=!1,u=!1,p=!1,y=!0,C=!0,B=!0,F,D={i:function(){if(d)return!0;a();D.o()||(D.bb(),D.Ba());D.cc();D.dc();t.i();J.i();if(!D.Yb())return!1;z.i();J.sc();return!0},
w:function(){d||a();return b.w()},H:function(){d||a();return b.H()},o:function(){d||a();return b.o()},cc:function(){p=(u=l.getExtension("EXT_color_buffer_float")||l.getExtension("WEBGL_color_buffer_float")||l.getExtension("OES_color_buffer_float"))?!0:!1;window.GL_EXT_COLORBUFFERFLOAT=u},dc:function(){l.getExtension("EXT_color_buffer_half_float")||l.getExtension("WEBGL_color_buffer_half_float")||l.getExtension("OES_color_buffer_half_float")},bb:function(){if(!f){this.o()||(g=l.getExtension("OES_texture_float")||
l.getExtension("MOZ_OES_texture_float")||l.getExtension("WEBKIT_OES_texture_float"),q=(window.GL_EXT_FLOAT=g)?!0:!1);if(q||this.o())e=l.getExtension("OES_texture_float_linear")||l.getExtension("MOZ_OES_texture_float_linear")||l.getExtension("WEBKIT_OES_texture_float_linear"),window.GL_EXT_FLOATLINEAR=e;f=!0}},Ba:function(){if(!w){if(!this.o()){if(h=l.getExtension("OES_texture_half_float")||l.getExtension("MOZ_OES_texture_half_float")||l.getExtension("WEBKIT_OES_texture_half_float"))F=h.HALF_FLOAT_OES,
n=!0;window.GL_EXT_HALFFLOAT=h}if(n||this.o())k=l.getExtension("OES_texture_half_float_linear")||l.getExtension("MOZ_OES_texture_half_float_linear")||l.getExtension("WEBKIT_OES_texture_half_float_linear"),window.GL_EXT_HALFFLOATLINEAR=k;w=!0}},la:function(){if(D.o())return l.HALF_FLOAT;D.Ba();return n?F:l.FLOAT},Ya:function(){return y},Vb:function(){return C},qd:function(){return B},Ub:function(){return p},$b:function(){C=y=!0;var a=l.createFramebuffer();l.bindFramebuffer(l.FRAMEBUFFER,a);var b=l.createTexture();
l.bindTexture(l.TEXTURE_2D,b);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST);l.texImage2D(l.TEXTURE_2D,0,D.o()&&l.RGBA32F?l.RGBA32F:l.RGBA,1,1,0,l.RGBA,l.FLOAT,null);l.framebufferTexture2D(t.T(),l.COLOR_ATTACHMENT0,l.TEXTURE_2D,b,0);var d=l.checkFramebufferStatus(t.Ea());d!==l.FRAMEBUFFER_COMPLETE&&(y=!1);l.texImage2D(l.TEXTURE_2D,0,D.o()&&l.RGBA16F?l.RGBA16F:l.RGBA,1,1,0,l.RGBA,D.la(),null);l.framebufferTexture2D(t.T(),l.COLOR_ATTACHMENT0,
l.TEXTURE_2D,b,0);d=l.checkFramebufferStatus(t.Ea());d!==l.FRAMEBUFFER_COMPLETE&&(C=!1);l.bindTexture(l.TEXTURE_2D,null);l.bindFramebuffer(l.FRAMEBUFFER,null);l.deleteTexture(b);l.deleteFramebuffer(a)},Zb:function(){var a=t.a({width:1});a.xb();var b=J.a({width:1,isFloat:!0,ba:3});a.l();b.l();l.flush();l.checkFramebufferStatus(t.Ea())!==l.FRAMEBUFFER_COMPLETE?(J.Wc(),B=!1):B=!0;a.remove();b.remove()},Yb:function(){D.$b();if(!y&&!C)return!1;D.Zb();return!0}};return D}(),sa=function(){var a=!1,b=[.8,
1,.8,1],d=0,f,g=new Uint8Array(4),e=b.concat(b,b,b),q=!0,h={i:function(){function b(a,b,d,e){l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,e?l.NEAREST_MIPMAP_NEAREST:l.LINEAR);try{var f=l.getError();f!==l.NO_ERROR&&console.log("GLERR in test_mipmapping() :",f);l.texImage2D(l.TEXTURE_2D,0,a,2,2,0,l.RGBA,b,d);if(l.getError()!==l.NO_ERROR)return!1}catch(S){return!1}e&&l.generateMipmap(l.TEXTURE_2D);z.za();z.f(!1,!0);l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,g);return 0!==g[0]}function h(a){return v.Ya()&&
b(u,l.FLOAT,new Float32Array(e),a)?(d=3,!0):!1}function w(a){return v.Vb()?b(p,v.la(),new Uint16Array(e),a)||b(p,l.FLOAT,new Float32Array(e),a)?(d=2,!0):!1:!1}v.bb();v.Ba();var u=l.RGBA,p=l.RGBA;if(ta.o()){var y=l.RGBA32F;y&&(u=y);(y=l.RGBA16F)&&(p=y)}z.i();t.reset();t.G();l.viewport(0,0,1,1);m.set("s0");a=!0;f=l.createTexture();l.activeTexture(l.TEXTURE0);l.bindTexture(l.TEXTURE_2D,f);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);if(w(!0)||h(!0))return!0;q=!1;return w(!1)||h(!1)?!0:!1},Wb:function(){return q},Jd:function(){return d},Ud:function(){a||h.i();return 3===d},wc:function(){a||h.i();return 2===d}};return h}(),wa={a:function(a){var b=J.a(a.alpha),d=J.a(a.beta);return{bc:function(){b.b(1);d.b(2)}}}},za={a:function(a){var b=a.ad;b.index=a.index;b.M=a.M;b.parent=a.parent;switch(b.type){case "input":a=xa.a(b);break;default:a=ya.a(b)}return a}},xa={a:function(a){"undefined"===
typeof a.sift&&(a.sift=!1);"undefined"===typeof a.DWT&&(a.DWT=!1);"undefined"===typeof a.blur&&(a.blur=!1);"undefined"===typeof a.siftOutWidth&&(a.siftOutWidth=!1);"undefined"===typeof a.filterBank&&(a.filterBank=!1);"undefined"===typeof a.poolType&&(a.poolType="max");"undefined"===typeof a.postpreprocessing&&(a.postpreprocessing="copy");"undefined"===typeof a.density&&(a.density=1);a.filterBank&&(FilterBank.ee(a.poolType,a.postpreprocessing),FilterBank.ce(a.density));var b=!1;if(a.mask){b=!0;c&&
void 0!==c.Pb&&(a.mask=c.Pb+a.mask);var d=J.a({isFloat:!1,url:a.mask})}var f=!1,g="undefined"!==typeof a.preprocessing?a.preprocessing:!1,e=!1;a.sift?Sift.i({pc:l,ia:!1,width:a.size,Zd:a.siftOutWidth}):a.DWT&&DWT.i({pc:l,ia:!1,width:a.size});switch(g){case "sobel":var q="s30";e=!0;break;case "meanNormalization":q="s31";e=!0;break;case "grayScale":q="s29";e=!1;break;case "copy":q="s0";break;case "inputLightRegulation":q="s29";Aa.i({width:a.size,ob:a.nBlurPass,vc:!1});f=!0;break;case "direct":case "none":q=
!1;break;default:q="s3"}b&&(q+="Mask");if(a.blur)var h=J.a({isFloat:!1,isPot:!1,width:a.size});var n=J.a({isFloat:!1,isPot:!1,width:a.size}),k,w,u,p={w:function(){return a.sift?Sift.U():a.filterBank?FilterBank.U():a.size},U:function(){return p.w()},gb:function(){return a.sift?Sift.aa():a.DWT?DWT.aa():a.filterBank?FilterBank.aa():f?Aa.aa():n},D:function(){t.I();a.blur&&(h.j(),m.set("s49"),m.F("u9",1/a.size,1/a.size),z.f(!1,!0),h.b(0));q&&(m.set(q),e&&m.s("u29",1/a.size),n.j(),b&&d.b(1),z.f(!1,!1),
n.b(0),f?Aa.ra(n):a.sift?(m.O(),Sift.ra()):a.DWT?(m.O(),DWT.ra(4)):a.filterBank&&(m.O(),FilterBank.ra(n)))},de:function(a){k=a},La:function(b){k=b;w="s42";u=J.a({isFloat:!0,isPot:!0,width:a.size})},Ca:function(){return u},J:function(){var a=p.gb(),b=k.Ca();k.Da().J(b);b=k.Da().S();m.set(w);m.s("u28",b*b);a.b(1);u.j();z.f(!1,!1);u.b(0)}};return p}},ya={a:function(a){"undefined"===typeof a.disableNormalize&&(a.disableNormalize=!1);var b=[],d=[],f,g,e=!1,q,h=!0,n,k,w=a.isReorganize?a.isReorganize:!1,
u=a.kernelsNumber?!0:!1,p,y,C,B,F,D,Z,S,W=a.dynPelu?wa.a(a.dynPelu):!1,ba=W?!0:!1,T={isEnabled:!1},P;if("softmax"===a.type){a.activation="softmax";a.size=Math.pow(2,Math.ceil(Math.log(Math.sqrt(a.num_classes))/Math.log(2)));a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.M.U();a.gain="undefined"!==typeof a.gain?a.gain:1;m.N("s20",[{type:"1f",name:"u12",value:a.gain}]);var G=J.a({isFloat:!0,isPot:!1,width:a.size}),ca=J.a({isFloat:!0,isPot:!1,width:a.size,isMipmap:!0});h=!1;var aa=new Uint8Array(Math.pow(4*
a.size,2)),Q;for(Q=0;Q<a.size*a.size;++Q){var A=Q<a.num_classes?255:0;aa[4*Q]=A;aa[4*Q+1]=A;aa[4*Q+2]=A;aa[4*Q+3]=A}var H=J.a({isFloat:!1,isPot:!1,width:a.size,array:aa})}else a.cost?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.M.U(),h=!1):"full"===a.connectivityUp&&(a.sparsity=a.M.U());var N={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",softmax:"s20",dynPelu:"s17"}[a.activation],K=a.sparsity*a.sparsity,r=!1,x=a.size;if(a.maxPooling){switch(a.maxPooling.size){case 2:var X=
"s32";break;case 4:X="s33"}r=!0;x/=a.maxPooling.size;var ja=J.a({isFloat:!0,isPot:!1,width:x})}var Y="undefined"!==typeof a.normalization&&a.normalization?!0:!1;if(Y){var O="s50"+a.index;m.tc("s50",O,[((a.normalization.n-1)/2).toFixed(1)]);m.N(O,[{type:"1i",name:"u0",value:0},{type:"2f",name:"u9",value:[1/a.size,1/a.size]},{type:"1f",name:"u8",value:a.normalization.alpha},{type:"1f",name:"u11",value:a.normalization.beta},{type:"1f",name:"u36",value:a.normalization.k}]);var I=J.a({isFloat:!0,isPot:!0,
width:a.size});var E=J.a({isFloat:!0,isPot:!0,width:a.size})}aa=a.size*a.sparsity;var ka=Math.log(aa/a.size)/Math.log(2),V=J.a({isMipmap:!0,isFloat:!0,isPot:!0,width:aa,mb:ka}),R=J.a({isFloat:!0,isPot:!0,width:a.size}),L;h&&(L=J.a({isFloat:!0,isPot:!1,width:a.size}));var da=J.a(a.bias),ea,fa={w:function(){return a.size},U:function(){return x},fb:function(){return a.num_classes},Sb:function(a){P.b(a)},Jc:function(){a.remap&&a.remap.isEnabled&&(T={isEnabled:!0,xc:J.a({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),
width:a.remap.maskTexture.width,isPot:!1}),layers:a.remap.layers.map(function(b){return a.parent.jc(b)}),depth:a.remap.depth})},Yc:function(){switch(a.connectivityUp){case "gaussian":ea=Ba.a(a.connectivity);break;case "direct":ea=Ca.a(a.connectivity);break;case "square":ea=Da.a(a.connectivity);break;case "full":ea=Ea.a(a.connectivity);break;case "conv":k=a.kernelsNumber,ea=Fa.a(a.connectivity),w&&(n=J.a({width:x,isFloat:!0,isFlipY:!1,isPot:!1}))}},D:function(b,d){P=b;V.j();u&&da.b(2);ea.D(T);V.b(0);
V.cb(ka);R.j();u?m.set("s0"):(m.set("s28"),m.s("u28",K),da.b(1));V.Xa(ka,0);z.f(!1,!1);m.set(N);Y?I.l():L.l();R.b(0);ba&&W.bc();z.f(!1,!1);Y&&(m.set(O),E.l(),I.b(0),z.f(!1,!1),m.set("s51"),m.s("u8",1),L.l(),E.b(1),z.f(!1,!1));if(h)return r?(ja.j(),L.b(0),m.set(X),m.F("u9",1/a.size,1/a.size),z.f(!1,!1),d=ja):d=L,d.b(0),w&&(n.l(),m.set("s22"),m.F("u16",k,x/k),z.f(!1,!1),d=n,n.b(0)),D=d;if("softmax"===a.type){m.set("s20");L.b(0);G.l();z.f(!1,!1);a.disableNormalize?b=G:(m.set("s2"),G.b(0),H.b(1),ca.l(),
z.f(!1,!1),m.set("s0"),g.j(),ca.b(0),ca.cb(!1),z.f(!1,!1),m.set("s21"),f.j(),ca.Xa(!1,0),m.s("u14",L.mc()),g.b(1),z.f(!1,!1),b=f);if(d){switch(e){case "cpuRGBAAvg":break;default:var p=fa.tb(b)}return p}return!1}if(a.cost){m.set("gpuRawAvg"===e?"s8":"s7");d=L;a.disableNormalize||(m.s("u6",1/a.size),f.j(),L.b(0),z.f(!1,!1),d=f);D=d;switch(e){case "cpuRGBA2Float":d.ab();p=fa.tb(d);q(p);break;case "gpuRawAvg":case "gpuRaw":d.b(0),q(d)}return!1}},Xb:function(h){h&&"undefined"!==typeof h.sb&&(e=h.sb,q=
h.Ic);L=J.a({isFloat:!0,isPot:!0,isMipmap:"softmax"===a.type,width:a.size});"softmax"===a.type&&(g=J.a({isFloat:!0,isPot:!0,width:1}));var n=0,k=0,u="undefined"!==typeof a.num_classes?a.num_classes:a.size*a.size;for(h=0;h<u;++h)b.push(n+(a.size-1-k)*a.size),d.push([-1,-1,-1,-1]),++n,n===a.size&&(n=0,++k);a.disableNormalize||(f=J.a({isFloat:!0,isPot:!0,width:a.size}))},tb:function(a){a.ab();var e=a.vb();b.forEach(function(a,b){d[b][0]=e[0][a];d[b][1]=e[1][a];d[b][2]=e[2][a];d[b][3]=e[3][a]});return d},
La:function(b){F=b;S={me:"s43",$d:"s44",td:"s42",xd:"s45",nd:"s46"}[a.activation];b={isFloat:!0,isPot:!0,width:a.size};Z=J.a(b);y=J.a(b);r&&J.a(b);w&&(C=J.a(b));h||(B=J.a({isFloat:!0,isPot:!1,width:a.size}))},Ca:function(){return p},J:function(b){if(!h){B.j();m.set("quadratic"===a.cost?"s41":"s40");b.b(1);D.b(0);z.f(!1,!1);B.b(0);var d=1}b=R;h&&(d=F.Ca(),w&&(Z.j(),m.set("s22"),R.b(0),m.F("u16",k,x/k),z.f(!1,!1),b=Z,d.b(0)),F.Da().J(d),d=F.Da().S());m.set(S);m.s("u28",d*d);b.b(1);y.j();z.f(!1,!1);
p=y;w&&(m.set("s22"),C.j(),y.b(0),m.F("u16",x/k,k),z.f(!1,!1),p=C);p.b(0)}};a.M&&fa.Yc(a.M);return fa}};
function Ga(){var a={Rd:!1},b,d;a||(a={});this.jc=function(a){return b[a]};this.Vc=function(a){var f=!1;b=a.map(function(a,b){return f=a=za.a({index:b,parent:this,ad:a,M:f})});d=b[b.length-1];b.forEach(function(a,b){0!==b&&a.Jc()})};this.D=function(a,d){var e=d;b.forEach(function(b){e=b.D(e,a)});return e};this.La=function(){for(var a=b.length-1,d;0<=a;--a)d=a!==b.length-1?b[a+1]:!1,b[a].La(d)};this.J=function(a){for(var d=b.length-1;0<=d;--d)b[d].J(a)};this.lc=function(){return d.w()};this.aa=function(){return d.gb()};
this.Xc=function(a){d.Xb(a)};this.fb=function(){return d.fb()}}
var Ca={a:function(a){var b=J.a(a.weights);delete a.weights.data;return{S:function(){return 1},ma:function(){return b},D:function(){m.set("s27");b.b(1);z.f(!1,!1)}}}},Ea={a:function(a){var b=a.fromLayerSize*a.toLayerSize,d=a.fromLayerSize,f=J.a(a.weights),g=J.a({isFloat:!0,isPot:!0,width:b,isMipmap:!0}),e=J.a({isFloat:!0,isPot:!0,width:a.fromLayerSize});return{S:function(){return d},ma:function(){return f},Hd:function(){return _fboWeights},D:function(b){if(b.isEnabled){m.set("s25");b.xc.b(3);var d,
e=Math.min(b.layers.length,b.depth);for(d=0;d<e;++d)b.layers[d].Sb(4+d)}else m.set("s24");m.s("u19",a.toLayerSize);f.b(1);z.f(!1,!1)},J:function(){m.set("s38");m.s("u19",a.toLayerSize);m.s("u27",a.fromLayerSize);g.j();f.b(1);z.f(!1,!1);e.j();m.set("s0");g.b(0);g.R();z.f(!1,!1);e.b(0)}}}},Ba={a:function(a){var b=a.toSparsity*a.toLayerSize,d=b/a.fromLayerSize,f=J.a(a.weights),g=J.a({isFloat:!0,isPot:!0,width:b,array:new Float32Array(a.weightsFromTo)}),e=J.a({width:b,isFloat:!0,array:new Float32Array(a.fromBindings),
isPot:!0}),q=J.a({width:b,isFloat:!0,array:new Float32Array(a.toBindings),isPot:!0});return{S:function(){return d},ma:function(){return f},ic:function(){return e},nc:function(){return q},oc:function(){return g},D:function(){m.set("s23");f.b(1);q.b(2);z.f(!1,!0)}}}},Da={a:function(a){var b=a.fromLayerSize,d=a.toLayerSize,f=a.toSparsity*d,g=f/b,e=a.toSparsity,q=b/d,h,n,k,w,u=0,p=0,y=0,C=Array(e*d*e*d*4),B=Array(e*d*e*d*4),F=Array(e*d*e*d*4),D=Array(b*b);for(h=0;h<D.length;++h)D[h]=0;var Z=Math.floor(e/
2),S=.5/d,W=.5/b,ba=.5/f;for(h=0;h<d;++h)for(n=0;n<d;++n){var T=Math.round(h*q);var P=Math.round(n*q);var G=h/d;var ca=n/d;G+=S;ca+=S;for(k=0;k<e;++k)for(w=0;w<e;++w){var aa=u/f;var Q=p/f;var A=T+k-Z;var H=P+w-Z;0>A&&(A+=b);0>H&&(H+=b);A>=b&&(A-=b);H>=b&&(H-=b);var N=A/b;var K=H/b;Q=1-Q-1/f;N+=W;K+=W;aa+=ba;Q+=ba;C[4*y]=N;C[4*y+1]=K;C[4*y+2]=G;C[4*y+3]=ca;var r=h*e+k,x=n*e+w;x=d*e-x-1;r=x*d*e+r;B[4*r]=aa;B[4*r+1]=Q;B[4*r+2]=N;B[4*r+3]=K;N=D[H*b+A]++;K=N%g;A=A*g+K;H=H*g+(N-K)/g;H=b*g-1-H;H=H*b*g+A;
F[4*H]=aa;F[4*H+1]=Q;F[4*H+2]=G;F[4*H+3]=ca;++u>=f&&(u=0,++p);++y}}var X=J.a(a.weights),ja=J.a({isFloat:!0,isPot:!0,width:f,array:new Float32Array(C)}),Y=J.a({width:f,isFloat:!0,array:new Float32Array(F),isPot:!0});F=null;var O=J.a({width:f,isFloat:!0,array:new Float32Array(B),isPot:!0});B=null;var I=J.a({isFloat:!0,isPot:!0,width:f,isMipmap:!0}),E=J.a({isFloat:!0,isPot:!0,width:f/g});return{S:function(){return g},ma:function(){return X},ic:function(){return Y},nc:function(){return O},oc:function(){return ja},
D:function(){m.set("s23");X.b(1);O.b(2);z.f(!1,!1)},J:function(){m.set("s37");I.j();Y.b(1);X.b(2);z.f(!1,!1);m.set("s0");E.j();I.b(0);I.R();z.f(!1,!1);E.b(0)}}}},Fa={a:function(a){function b(){m.s("u25",d);m.s("u26",f);m.s("u19",a.toLayerSize);m.s("u27",a.fromLayerSize)}var d=a.kernelsNumber,f=a.toSparsity,g=f*a.toLayerSize,e=g/a.fromLayerSize,q=J.a(a.weights),h=J.a({isFloat:!0,isPot:!0,width:g,isMipmap:!0}),n=J.a({isFloat:!0,isPot:!0,width:a.fromLayerSize});return{S:function(){return e},Md:function(){return f},
ma:function(){return q},D:function(){m.set("s26");b();q.b(1);z.f(!1,!1)},J:function(){m.set("s39");b();h.j();q.b(1);z.f(!1,!1);m.set("s0");n.j();h.b(0);h.R();z.f(!1,!1);n.b(0)}}}},Aa=function(){var a,b,d,f,g,e,q,h,n;return{i:function(k){a=k.ob?k.ob:3;b=k.width?k.width:64;f=k.vc?!0:!1;k={isFloat:!1,width:b,isPot:!1,isFlipY:!1};g=J.a(k);e=J.a(k);q=J.a(k);h=J.a(k);n=J.a({isFloat:!0,width:b,isPot:!1,isFlipY:!1});d=1/b},ra:function(b){m.set("s35");for(var k=0;k<a;++k)g.l(),m.F("u9",d,0),z.f(f,!1),e.l(),
g.b(0),m.F("u9",0,d),z.f(f,!1),e.b(0);m.set("s34");h.l();b.b(0);z.f(f);m.set("s35");for(k=0;k<a;++k)q.l(),h.b(0),m.F("u9",d,0),z.f(f,!1),h.l(),q.b(0),m.F("u9",0,d),z.f(f,!1);m.set("s36");n.l();b.b(0);e.b(1);h.b(2);z.f(f,!1);n.b(0)},aa:function(){return n}}}();
function Ha(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a}function Ia(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function Ja(){var a=navigator.userAgent.toLowerCase();return-1==a.indexOf("safari")||-1<a.indexOf("chrome")?!1:!0}function Ka(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1}
function La(a){if(!a)return a;var b=!1;if(a.video){var d=function(a){var b={};"undefined"!==typeof a.min&&(b.min=a.min);"undefined"!==typeof a.max&&(b.max=a.max);"undefined"!==typeof a.ideal&&(b.ideal=a.ideal);return b};b={};"undefined"!==typeof a.video.width&&(b.width=d(a.video.width));"undefined"!==typeof a.video.height&&(b.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=a.video.facingMode)}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&(b.deviceId=a.deviceId);
return b}function Ma(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a}
function Na(a){function b(a){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(b,d){return Math.abs(b-a)-Math.abs(d-a)})}function d(b){f.push(b(La(a)))}var f=[];if(!a||!a.video)return f;if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal)for(var g=b(a.video.width.ideal).slice(0,3),e=b(a.video.height.ideal).slice(0,3),q=0,h;q<g.length;++q){h=g[q];for(var n=0,k;n<e.length;++n)if(k=e[n],h!==a.video.width.ideal||k!==a.video.height.ideal){var w=Math.max(h,
k)/Math.min(h,k);w<4/3-.1||w>16/9+.1||d(function(a){a.video.width.ideal=h;a.video.height.ideal=k;return a})}}d(function(a){return Ma(a)})}a.video.facingMode&&(d(function(a){delete a.video.facingMode;return a}),a.video.width&&a.video.height&&d(function(a){Ma(a);delete a.video.facingMode;return a}));a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(a){delete a.video.width.ideal;delete a.video.height.ideal;return a}),d(function(a){delete a.video.width;delete a.video.height;
return a}));f.push({audio:a.audio,video:!0});return f}function Oa(a){try{var b=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(f){b=window.innerHeight>window.innerWidth}if(b){b=a.video.width;var d=a.video.height;b.ideal&&d.ideal&&b.ideal>d.ideal&&(a.video.height=b,a.video.width=d)}}
function Pa(a,b,d,f){navigator.mediaDevices.getUserMedia(f).then(function(f){function e(){setTimeout(function(){if(a.currentTime){var e=a.videoWidth,g=a.videoHeight;0===e||0===g?d("VIDEO_NULLSIZE"):(e=a.videoWidth,g=a.videoHeight,e&&(a.style.width=e.toString()+"px"),g&&(a.style.height=g.toString()+"px"),Ia()?(document.body.appendChild(a),b(a,f),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px"},100)):b(a,f))}else d("VIDEO_NOTSTARTED")},
200)}function g(){var b=a.play();"undefined"===typeof b?e():b.then(function(){e()}).catch(function(){d("VIDEO_PLAYPROMISEREJECTED")})}Ia()||a.addEventListener("loadeddata",g,!1);"undefined"!==typeof a.srcObject?a.srcObject=f:(a.src=window.URL.createObjectURL(f),a.videoStream=f);if(Ja()&&(a.volume=0,1===a.volume)){var h=function(){a.volume=0;window.removeEventListener("mousemove",h,!1);window.removeEventListener("touchstart",h,!1)};window.addEventListener("mousemove",h,!1);window.addEventListener("touchstart",
h,!1)}Ia()&&g()}).catch(d)}
function Qa(a,b,d){var f=Ka()?document.createElement("video"):!1;if(f)if(Ka()){var g=function(a){f[a]=!0;f.setAttribute(a,"true")};d&&d.video&&(Ia()?Oa(d):Ha()&&Oa(d),d.video.width&&d.video.width.ideal&&(f.style.width=d.video.width.ideal+"px"),d.video.height&&d.video.height.ideal&&(f.style.height=d.video.height.ideal+"px"));g("autoplay");g("playsinline");d&&d.audio?f.volume=0:g("muted");Pa(f,a,function(){function e(d){if(0===d.length)b("INVALID_FALLBACKCONSTRAINS");else{var g=d.shift();Pa(f,a,function(){e(d)},
g)}}var g=Na(d);e(g)},d)}else b&&b("MEDIASTREAMAPI_NOTFOUND");else b&&b("VIDEO_NOTPROVIDED")}
var Ra=function(){var a=0,b,d,f,g;return{i:function(e,q){a=e.length;b=q;d=e;f=new Float32Array(a);g=new Float32Array(a)},kc:function(){return g},bd:function(a,q,h){a.forEach(function(a,e){var k=Math.min(1,d[e]*q);k*=h;a=k*a+(1-k)*f[e];f[e]=a;g[e]=b[e](a)})}}}(),U={X:[],wa:!1,xa:!1,va:!1,Sa:!1,ea:!0,da:!1,ready:!1,initialized:!1},c={save:"jeelizFaceTransferNNC.json",Qa:"../../",Ob:0,na:64,width:512,height:512,Ac:.2,yc:.75,Ec:3,borderWidth:.4,$:.35,Fc:5,Gc:3,fd:.03,gd:.03,ed:.4,
hd:55,Bc:.6,zc:5.8,Hb:.8,Fb:1.5,Gb:.5,Eb:.9,Mb:.04,Lb:.8,ld:20,ga_:.2,P:[30,55],Ra:3,Qb:1/3.5,rb:11,nb:1,Cc:1,Ta:[.1,.01],Sc:[.3,-.5,-.2],Tc:[.3,0,0],Qc:5,Rc:7,ac:!1,Va:.001,Ua:[Math.PI/10,Math.PI/6],Nc:0,Oc:6,Mc:.9,ub:.4,Kc:.15,Lc:.5,qc:3,rc:7,hb:.05,Nb:[.2,.2,.1,.1,.1,.1,.2,.2,.1,.1,.2],Dc:[la.bind(null,.05,.7),la.bind(null,.05,.7),la.bind(null,0,.4),la.bind(null,0,.4),la.bind(null,0,.6),la.bind(null,0,.6),function(a,b,d){return Math.min(Math.max((d-a)/(b-a),0),1)}.bind(null,.02,.6),la.bind(null,
.05,.3),ma.bind(null,.7,.8,2),ma.bind(null,.65,.75,2),la.bind(null,.1,.5)]};U.get_nMorphs=function(){return c.rb};var Sa=!1;
function Ta(){var a,b,d,f,g,e,q,h,n,k,w;function u(){++ja;1===ja&&(Ra.i(c.Nb,c.Dc),p(),U.ready=!0,U.X.forEach(function(a){a()}),U.X.splice(0,U.X.length),E.timestamp=Date.now(),C(),ja=0)}function p(){Q=ia();A=new Uint8Array(S*S*4);U.get_morphTargetInfluences=function(){return Q};U.get_morphTargetInfluencesStabilized=function(){return Ra.kc()};U.set_morphUpdateCallback=function(a){r=a};U.get_rotation=function(){return H};U.get_rotationStabilized=function(){return K};U.switch_sleep=function(a){O!==Y.Oa||
a?O=a?Y.Oa:Y.ja:(O=Y.ja,E.timestamp=Date.now(),C())};U.on_detect=function(a){a(I.K);I.Ka.push(a)}}function y(){setTimeout(C,D)}function C(){var a=P.currentTime-ka;0>a&&(ka=P.currentTime);1E3*a<c.ld||(G.refresh(),ka+=a,m.set("s53"),t.I(),ca.Fa.j(),G.b(0),z.f(!1,!0));a=O===Y.ja?E.qa:1;for(var b=0;b<a;++b){var d=ca,e=Z;m.set("s54");t.I();d.Ga.j();d.Fa.b(0);d.ta.b(1);z.f(!1,!1);d.Ga.b(0);e.D(!1,d.Ga)}U.ea&&(t.jd(),m.set("s5"),ca.Fa.b(0),z.f(!1,!1),l.enable(l.BLEND),l.blendFunc(l.SRC_ALPHA,l.ONE),aa.b(0),
z.f(!1,!1),l.disable(l.BLEND));l.flush();b=Date.now();d=b-E.timestamp;E.timestamp=b;E.pb=a/d;E.Ja=E.pb*c.ga_+E.Ja*(1-c.ga_);E.qb=1E3/d;E.W=E.qb*c.ga_+E.W*(1-c.ga_);E.W>c.P[1]?(++E.qa,E.W=(c.P[0]+c.P[1])/2):E.W<c.P[0]&&(E.qa=Math.max(E.qa-1,c.Ra),E.W=(c.P[0]+c.P[1])/2);E.ha=c.Qb/Math.max(E.Ja,.001);O!==Y.Oa&&window.requestAnimationFrame(y)}var B,F,D=c.Ob,Z,S,W,ba,T,P,G,ca={},aa,Q=!1,A,H=[0,0,0],N=[0,0,0],K=[0,0,0],r=!1,x=0,X=0,ja=0,Y={Oa:-1,ja:0},O=Y.ja,I={pa:0,K:!1,Ka:[]},E={timestamp:0,pb:0,Ja:0,qa:c.Ra,
qb:0,W:0,ha:1},ka=0;return{uc:function(){B=c.width;F=c.height;ba=c.Ac;T=c.yc;var p=B/c.na;ba*=p;T*=p;g=(1-2*c.borderWidth)/c.Fc;e=(1-2*c.$)/c.Gc;q=(T-ba)/c.Ec;h=c.borderWidth;n=c.$;k=1-c.borderWidth;w=1-c.$;a=0;b=c.borderWidth;d=c.$;f=ba;W=[c.na/B,c.na/F]},i:function(p){function y(){var a=c.qc+S*c.rc;I.pa=(A[4*a]+A[4*a+1]+A[4*a+2]+A[4*a+3])/1020*c.hb+(1-c.hb)*I.pa;.6<I.pa&&!I.K?(I.Ka.forEach(function(a){a(!0)}),I.K=!0):.4>I.pa&&I.K&&(I.Ka.forEach(function(a){a(!1)}),I.K=!1)}function C(){Q.forEach(function(a,
b){if(I.K){a=(c.nb+b)%S;var d=c.Cc+Math.floor((c.nb+b)/S);d=S-1-d;a+=S*d;Q[b]=(A[4*a]+A[4*a+1]+A[4*a+2]+A[4*a+3])/1020}else Q[b]=0});Ra.bd(Q,X,E.ha);r&&r(X,E.ha)}P=p;G=J.a({B:P,isPot:!1,isFloat:!1,isFlipY:!0});m.Kb([{id:"s53",name:"_",ca:"attribute vec2 a0;uniform vec2 u37,u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u38+u37*a0;}",fa:["a0"],Y:[2],c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:["u0","u37","u38"],precision:"lowp"},{id:"s54",
name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",ca:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40;const vec2 f=vec2(.25,.5),h=vec2(.75,.5),e=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,f);vec2 b=a.gb,c=a.a*u40,d=a0*.5+e;vv0=b+(d-e)*c,gl_Position=vec4(a0,0.,1.);}",fa:["a0"],Y:[2],g:["u0","u39","u40"],precision:"lowp"},{id:"s55",name:"_",ca:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",c:"uniform sampler2D u41,u39;uniform vec3 u43,u44;uniform float u45,u46,u47,u48,u49,u50,u51,u52,u53,u54;varying vec2 vv0;const vec4 o=vec4(1.,1.,1.,1.),p=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);void main(){vec4 i=texture2D(u41,vec2(.375,.9375)),j=texture2D(u41,vec2(.5,.9375));float k=dot(e,texture2D(u41,vec2(0.,.9375))),l=dot(e,texture2D(u41,vec2(.125,.9375))),m=dot(e,texture2D(u41,vec2(.25,.9375)));vec4 a=texture2D(u39,vec2(.5,.5));float d=u54,b=dot(i,e),g=dot(j,e);bool q=b>u48&&b>g+u49,f=b>u50&&b>g+u51;f?a.r=2.:a.r>u47?a.r=0.:a.r>1.9&&(a.a>u46||a.a<u45)?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a.gba=u43,a.r=1.;else{!f?d*=.5:0.;float c;if(a.r>1.9)c=1.-d*u53;else c=2.,a.r=0.;float h=a.a*u52;a.gba+=vec3(k,l,m)*u44*c*h;}gl_FragColor=a;}",
g:"u41 u39 u43 u45 u46 u47 u48 u49 u50 u51 u44 u53 u52 u54".split(" ")},{id:"s56",name:"_",c:"uniform sampler2D u39;uniform vec2 u40;varying vec2 vv0;const vec2 j=vec2(1.,1.);const vec4 i=vec4(0.,.5,1.,1.);void main(){vec4 g=texture2D(u39,vec2(.25,.5));vec2 h=g.gb;float k=g.a;vec2 a=k*u40,c=h+a,d=h;d-=a/2.,c-=a/2.;vec2 l=.5*(d+c),f=step(d,vv0)*step(vv0,c);float m=f.x*f.y;vec2 b=2.*abs(l-vv0)/a;b=pow(b,3.*j),gl_FragColor=m*i*max(b.x,b.y);}",g:["u39","u40"],precision:"lowp"},{id:"s57",name:"_",c:"uniform sampler2D u0,u7;uniform float u57,u58,u54;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),b=texture2D(u7,vv0);float c=(1.-u54)*(u58-u57)+u57;gl_FragColor=mix(b,a,c*f);}",
g:["u0","u7","u57","u58","u54"],precision:"highp"}]);m.N("s54",[{type:"1i",name:"u0",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u40",value:W}]);m.N("s56",[{type:"1i",name:"u39",value:0},{type:"2f",name:"u40",value:W}]);m.N("s55",[{type:"1i",name:"u41",value:0},{type:"1i",name:"u39",value:1},{type:"1f",name:"u45",value:c.Bc},{type:"1f",name:"u46",value:c.zc},{type:"1f",name:"u47",value:c.hd},{type:"1f",name:"u48",value:c.Hb},{type:"1f",name:"u49",value:c.Fb},{type:"1f",name:"u50",value:c.Gb},
{type:"1f",name:"u51",value:c.Eb},{type:"1f",name:"u52",value:W[0]},{type:"1f",name:"u53",value:c.Mc}]);m.N("s57",[{type:"1i",name:"u0",value:0},{type:"1i",name:"u7",value:1},{type:"1f",name:"u57",value:c.Mb},{type:"1f",name:"u58",value:c.Lb}]);aa=J.a({isPot:!1,isFloat:!1,width:B,height:F});var D=new Float32Array([0,c.borderWidth,c.$,0]);(function(a){a.Fa=J.a({isPot:!1,Yd:!0,isFloat:!1,width:B,height:F});a.Ga=J.a({isPot:!0,isFloat:!1,width:c.na});var b={width:1,height:1,isFloat:!0,isPot:!1,array:D};
a.ta=va.a(b);a.cd=va.a(b)})(ca);ha(function(p){p=JSON.parse(p);Z=new Ga;Z.Vc(p.layers);Z.Xc({sb:"gpuRaw",Ic:function(p){var r=ca;r.ta.yb(1);l.viewport(0,0,1,1);m.set("s55");m.s("u54",X);m.zb("u43",b,d,f);m.zb("u44",1*c.fd,1*c.gd,1*c.ed);z.f(!1,!1);1!==++a%2&&(f+=q,f>T&&(b+=g,f=ba,b>k&&(b=h,d+=e,d>w&&(d=n))));r.cd.yb(1);m.set("s57");m.s("u54",X);r.ta.b(0);z.f(!1,!1);J.Pc(p,A);p=c.Nc+S*c.Oc;x=(A[4*p]+A[4*p+1]+A[4*p+2]+A[4*p+3])/1020*c.ub+(1-c.ub)*x;X=la(c.Kc,c.Lc,x);C();if(!c.ac)if(I.K){p=c.Ta[1]*X+
c.Ta[0]*(1-X);p*=E.ha;for(r=0;3>r;++r){var u=r+c.Qc;var B=c.Rc;u+=S*B;u=(A[4*u]+A[4*u+1]+A[4*u+2]+A[4*u+3])/1020;u=(2*u-1)*c.Sc[r];u+=c.Tc[r];H[r]=p*u+(1-p)*H[r]}K[0]=H[0];K[1]=H[1];K[2]=H[2]}else p=Date.now(),N[0]=c.Ua[0]*Math.sin(p*c.Va),N[1]=c.Ua[1]*Math.cos(p*c.Va),K[0]=N[0],K[1]=N[1],K[2]=N[2];y();p=ca;t.I();aa.j();m.set("s56");p.ta.b(0);z.f(!1,!1)}});S=Z.lc();u()})}}}U.onLoad=function(a){U.ready?a():U.X.push(a)};U.set_audio=function(a){U.Sa=a};
U.switch_displayVideo=function(a){U.ea=a;U.da&&(U.da.style.display=U.ea?"block":"none")};U.onWebcamAsk=function(a){U.wa=a};U.onContextLost=function(a){U.va=a};U.onWebcamGet=function(a){U.xa=a};U.set_size=function(a,b){c.width=a;c.height=b};U.get_size=function(){return{width:c.width,height:c.height}};U.get_videoStream=function(){return Sa};U.get_cv=function(){return ta.ka()};
U.init=function(a){var b=Ta(),d=a.callbackReady?a.callbackReady:function(a){console.log("ERR:",a)},f=a.callbackReady?a.callbackReady.bind(!1):!1;if("undefined"===typeof a.canvasId)d("NO_CANVASID");else if(document.getElementById(a.canvasId))if(U.initialized)d("ALREADY_INITIALIZED");else{U.initialized=!0;window.ua=d?function(a){d(a);window.ua=!1}:!1;a.NNCpath&&(c.Qa=a.NNCpath);U.X.push(f);if(!ta.i({$a:a.canvasId,width:c.width,height:c.height,debug:!1,Ha:!1,Hc:function(){U.va&&U.va()},premultipliedAlpha:!1}))return d&&
d("GL_INCOMPATIBLE"),!1;U.da=ta.ka();U.ea||(U.da.style.display="none");z.i();t.i();m.i();J.i();l.depthFunc(l.LEQUAL);l.clearDepth(1);U.wa&&U.wa();a=Ha()&&window.outerWidth<window.outerHeight;Qa(function(a,d){Sa=d;U.xa&&U.xa();var e=a.videoWidth,f=a.videoHeight;ta.ka().width=e;ta.ka().height=f;c.width=e;c.height=f;b.uc();d=[.5,.5];f/=e;e=ta.H()/ta.w();f>e?1>=f?d[0]*=f:d[1]/=f:(d[0]*=f,f=1/e,d[0]*=f,d[1]*=f);d[1]*=e;b.i(a);m.N("s53",[{type:"1i",name:"u0",value:0},{type:"2f",name:"u37",value:d},{type:"2f",
name:"u38",value:[.5,.5]}])},function(){window.ua&&window.ua("WEBCAM_UNAVAILABLE")},{video:{facingMode:{ideal:"user"},width:{min:240,max:1280,ideal:a?240:320},height:{min:240,max:1280,ideal:a?320:240}},audio:U.Sa});return!0}else d("INVALID_CANVASID")};window.JEEFACETRANSFERAPI=U;
;return JEEFACETRANSFERAPI;})();